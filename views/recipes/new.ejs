<%- include('../partials/header') %>

    <h1>Create New Recipe</h1>

    <form action="/recipes" method="post" class="row g-3">
        <div class="col-md-6">
            <div class="form-floating">
                <input type="text" id="recipeTitle" name="recipeTitle" class="form-control"
                    placeholder="Recipe title here">
                <label for="recipeTitle">Recipe Title:</label>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-floating">
                <input type="text" id="recipeImage" name="recipeImage" class="form-control"
                    placeholder="Recipe image Url here" required>
                <label for="recipeImage">Recipe Image URL:</label>
            </div>
        </div>

        <div class="col-md-12">
            <label for="recipeDescription">Recipe Description:</label>
            <textarea id="recipeDescription" name="descriptions[0][recipeDescription]" class="form-control"
                required></textarea>
        </div>

        <h2 class="col-md-12">Ingredients</h2>
        <div id="ingredientsContainer" class="col-md-12">
            <div class="ingredient row">
                <div class="col-md-3">
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" name="ingredients[0][amount]" class="form-control" required>
                </div>
                <div class="col-md-3">
                    <label for="measurement" class="form-label">Measurement:</label>
                    <select id="measurement" name="ingredients[0][measurement]" class="form-select" required>
                        <option value="g">g</option>
                        <option value="kg">kg</option>
                        <option value="tbsp">tbsp</option>
                        <option value="tsp">tsp</option>
                        <option value="cup">cup</option>
                        <option value="piece">piece</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="ingredientName" class="form-label">Ingredient Name:</label>
                    <input type="text" id="ingredientName" name="ingredients[0][ingredientName]" class="form-control"
                        required>
                </div>
                <div class="col-md-2">
                    <button type="button" onclick="removeIngredient(this)" class="btn btn-danger">Remove</button>
                </div>
            </div>
        </div>

        <button type="button" onclick="addIngredient()" class="btn btn-primary">Add Ingredient</button>
        <br>

        <h2 class="col-md-12">Instructions</h2>
        <div id="instructionsContainer" class="col-md-12">
            <div class="instruction row">
                <div class="col-md-2">
                    <label for="stepNum">Step Number:</label>
                    <input type="number" id="stepNum" name="instructions[0][stepNum]" class="form-control" required>
                </div>
                <div class="col-md-8">
                    <label for="step">Instruction:</label>
                    <textarea id="step" name="instructions[0][step]" class="form-control" required></textarea>
                </div>
                <div class="col-md-2">
                    <button type="button" onclick="removeInstruction(this)" class="btn btn-danger">Remove</button>
                </div>
            </div>
        </div>

        <button type="button" onclick="addInstruction()" class="btn btn-primary">Add Instruction</button>
        <br>

        <button type="submit" class="btn btn-success">Create Recipe</button>
    </form>

    <%- include('../partials/dynamic-inputs.ejs') %>
        <%- include('../partials/footer') %>